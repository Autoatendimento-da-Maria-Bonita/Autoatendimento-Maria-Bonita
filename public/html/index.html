<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maria Bonita - Painel Administrativo</title>
    <link rel="shortcut icon" href="../img/MariaBonita.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Lora:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Loading indicator styles */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        body.loading .loading-overlay {
            display: flex;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid var(--color-primary-light);
            border-top: 5px solid var(--color-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>

<body>
    <!-- Loading overlay -->
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="dashboard">
        <aside class="sidebar">
            <div class="sidebar__header">
                <img src="../img/MariaBonita.png" alt="Logo Maria Bonita" class="sidebar__logo" />
                <h2 class="sidebar__title">Maria Bonita</h2>
            </div>
            
            <nav class="sidebar__nav">
                <a href="#" class="sidebar__link sidebar__link--active">
                    <svg class="sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="7" height="9"></rect>
                        <rect x="14" y="3" width="7" height="5"></rect>
                        <rect x="14" y="12" width="7" height="9"></rect>
                        <rect x="3" y="16" width="7" height="5"></rect>
                    </svg>
                    <span>Dashboard</span>
                </a>
                <a href="produtos_service.html" class="sidebar__link">
                    <svg class="sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <path d="M16 10a4 4 0 0 1-8 0"></path>
                    </svg>
                    <span>Cadastrar Produto</span>
                </a>
                <a href="tela_inicial.html" class="sidebar__link">
                    <svg class="sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span>Vendas</span>
                </a>
            </nav>
            
            <div class="sidebar__footer">
                <a href="/" class="sidebar__link sidebar__link--logout">
                    <svg class="sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    <span>Sair</span>
                </a>
            </div>
        </aside>

        <main class="main">
            <header class="header">
                <div class="header__content">
                    <button class="header__menu-toggle" id="menu-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    
                    <div class="header__title">
                        <h1>Painel Administrativo</h1>
                        <p>Resumo de vendas e desempenho</p>
                    </div>
                    
                    <div class="header__actions">
                        <div class="header__user">
                            <div class="header__avatar">
                                <span>MB</span>
                            </div>
                            <span class="header__username">Admin</span>
                        </div>
                    </div>
                </div>
            </header>
            
            <div class="dashboard__content">
                <section class="kpi-section">
                    <div class="kpi-card">
                        <div class="kpi-card__icon kpi-card__icon--sales">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </div>
                        <div class="kpi-card__content">
                            <h3 class="kpi-card__title">Total de Vendas</h3>
                            <p class="kpi-card__value">Carregando...</p>
                        </div>
                    </div>
                </section>
                
                <section class="chart-section">
                    <div class="chart-card">
                        <div class="chart-card__header">
                            <h3 class="chart-card__title">Vendas por Categoria</h3>
                            <div class="chart-card__actions">
                                <select class="chart-card__select">
                                    <option value="week">Esta Semana</option>
                                    <option value="month" selected>Este Mês</option>
                                    <option value="year">Este Ano</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-card__content">
                            <div class="chart-placeholder">
                                <!-- Chart bars will be dynamically inserted here by JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-card__header">
                            <h3 class="chart-card__title">Produtos Mais Vendidos</h3>
                            <div class="chart-card__actions">
                                <button class="chart-card__button chart-card__button--active">Top 5</button>
                            </div>
                        </div>
                        <div class="chart-card__content">
                            <ul class="product-list">
                                <!-- Product items will be dynamically inserted here by JavaScript -->
                            </ul>
                        </div>
                    </div>
                </section>
                
                <section class="action-section">
                    <a href="produtos_service.html" class="action-card">
                        <div class="action-card__icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </div>
                        <div class="action-card__content">
                            <h3 class="action-card__title">Cadastrar Produto</h3>
                            <p class="action-card__description">Adicione novos produtos ao catálogo</p>
                        </div>
                    </a>
                    
                    <a href="tela_inicial.html" class="action-card">
                        <div class="action-card__icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="9" cy="21" r="1"></circle>
                                <circle cx="20" cy="21" r="1"></circle>
                                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                            </svg>
                        </div>
                        <div class="action-card__content">
                            <h3 class="action-card__title">Iniciar Vendas</h3>
                            <p class="action-card__description">Acesse o terminal de vendas</p>
                        </div>
                    </a>
                </section>
            </div>
        </main>
    </div>
    
    <script>
        // Toggle menu em dispositivos móveis
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('menu-toggle');
            const dashboard = document.querySelector('.dashboard');
            
            menuToggle.addEventListener('click', function() {
                dashboard.classList.toggle('dashboard--menu-open');
            });
        });
    </script>
    
    <!-- Import the Supabase client and your dashboard script -->
    <script type="module" src="../js/dashboard-integration.js"></script>
</body>
</html>